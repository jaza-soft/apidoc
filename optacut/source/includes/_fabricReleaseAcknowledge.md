# Fabric Release Acknowledgement

## Fabric Release Acknowledgement

```shell
curl "~/api/fabric-release/ack?externalId=1000" \
  -X PUT \
  -H "Authorization: Bearer <access_token>"
```

> The above command returns JSON structured like this:

```json
{
  "status": 200,
  "code": 200,
  "message": "Ok"
}
```

This endpoint acknowledges a fabric release from an external system.

### HTTP Request

`PUT ~/api/fabric-release/ack?id=<Internal ID>&externalId=<External ID>&txn=<Transaction Number>`

### URL Parameters

| Parameter  | Description                                                                                                 |
|------------|-------------------------------------------------------------------------------------------------------------|
| id         | Internal ID of OptaCut for Fabric Release                                                                   |
| externalId | External ID/Transaction ID returned in response while calling Fabric Release Request API in External System |
| txn        | Globally unique Transaction number generated by OptaCut                                                     |

At least one parameter is required

### JSON Payload

<pre class="center-column">
{
    "challanNo": "C/100",
    "ackNo": "A/100",
    "rollInfoList": [
        { "rollNo": "R/100" },
        { "rollNo": "R/101" }
    ]
}
</pre>

## Delete Fabric Release Acknowledgement

```shell
curl "~/api/fabric-release/ack?externalId=1000" \
  -X DELETE \
  -H "Authorization: Bearer <access_token>"
```

> The above command returns JSON structured like this:

```json
{
  "status": 200,
  "code": 200,
  "message": "Ok"
}
```

This endpoint deletes fabric release acknowledgment from an external system.

### HTTP Request

`DELETE ~/api/fabric-release/ack?id=<Internal ID>&externalId=<External ID>&txn=<Transaction Number>`

### URL Parameters

| Parameter  | Description                                                                                                 |
|------------|-------------------------------------------------------------------------------------------------------------|
| id         | Internal ID of OptaCut for Fabric Release                                                                   |
| externalId | External ID/Transaction ID returned in response while calling Fabric Release Request API in External System |
| txn        | Globally unique Transaction number generated by OptaCut                                                     |

At least one parameter is required

### JSON Payload

<pre class="center-column">
{
    "rollInfoList": [
        { "rollNo": "R/100" },
        { "rollNo": "R/101" }
    ]
}
</pre>


## Schema Fabric Release Acknowledgement

| Field     | Description                                                                |
|-----------|----------------------------------------------------------------------------|
| challanNo | Challan Number in ERP for Fabric Release (Pick List)                       |
| ackNo     | Acknowledgement Number for current acknowledgment Request                  |
| rollNo    | Factory Roll Number. This roll should be part of pick list sent by OptaCut |

